(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(72)},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),l=n.n(o),c=(n(43),n(4)),i=n(12),u=n(9),s=(n(44),n(45),r.a.createContext()),m=r.a.createContext(),d=function(e){return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-container"},r.a.createElement("div",{className:"nav-container__inner"},r.a.createElement(u.b,{to:"/",className:"home-link"},"12345-12345"),r.a.createElement("ul",{className:"top-nav"},r.a.createElement("li",{className:"top-nav__authButton"},r.a.createElement(s.Consumer,null,function(t){return null!==t?r.a.createElement("button",{onClick:e.signOut},"Sign out"):r.a.createElement(u.b,{to:"/login"},"Login")}))))))},h=n(37),f=(n(50),[{minimumPoints:0,numberOfColors:3,similarColors:0,headerColor:"hsl(0, 0%, 20%)",canLoadNewColors:!0},{minimumPoints:50,numberOfColors:6,similarColors:1,headerColor:"hsl(0, 25%, 97%)",canLoadNewColors:!0},{minimumPoints:100,numberOfColors:6,similarColors:2,headerColor:"hsl(0, 25%, 97%)",canLoadNewColors:!1},{minimumPoints:200,numberOfColors:9,similarColors:4,headerColor:"hsl(0, 25%, 97%)",canLoadNewColors:!1},{minimumPoints:350,numberOfColors:9,similarColors:5,headerColor:"hsl(0, 25%, 97%)",canLoadNewColors:!1}]),E="RGB",b="HSL",v="HEX",g=0,p=0,C=5,O=10,N="hsl(0, 25%, 97%)",S=function(e){var t=e.handleColorModelChange,n=[{value:E,label:E},{value:v,label:v},{value:b,label:b}];return r.a.createElement("div",{className:"hero"},r.a.createElement("div",{className:"hero__inner"},r.a.createElement("h2",null,"Learn your colors, while having fun"),r.a.createElement("div",{className:"hero__select"},r.a.createElement(m.Consumer,null,function(e){return r.a.createElement(h.a,{value:n.map(function(t){return t.value===e?t:null}),onChange:function(e){t(e.value)},options:n})})),r.a.createElement(u.b,{className:"hero__cta",to:"/play"},r.a.createElement(s.Consumer,null,function(e){return null!==e?"Play":"Try it out!"}))))},w=(n(53),function(e){var t=e.getContent;return r.a.createElement("div",{className:"leaderboard"},r.a.createElement("h2",{className:"leaderboard__header"},"Leaderboard"),r.a.createElement(s.Consumer,null,function(e){return null!==e?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Points"))),r.a.createElement("tbody",null,t("RGB").map(function(e,t){return console.log(e),r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.points))}))):r.a.createElement("p",null,"Please login to see the leaderboard")}))}),j=function(e){var t=e.signOut,n=e.handleColorModelChange,a=e.leaderboardContent;return r.a.createElement("div",null,r.a.createElement(d,{signOut:t}),r.a.createElement(S,{handleColorModelChange:n}),r.a.createElement(w,{getContent:function(e){return a(e)}}))},_=n(33),y=n(22),P=(n(54),n(55),n(56),function(e){return r.a.createElement("div",{className:e.backgroundColor===N?"tile":"tile tile--modified",style:{backgroundColor:e.backgroundColor},id:e.whichOne})}),k=function(e){return r.a.createElement("div",{className:"colors",onClick:function(t){return e.onClick(t)}},function(e){for(var t=[],n=0;n<e.length;n++)t.push(r.a.createElement(P,{key:n+1,whichOne:n,backgroundColor:e[n]}));return t}(e.colors))},I=(n(57),function(e){var t=e.headerColor.split(",")[2].split("%")[0]<45?"hsl(0, 0%, 95%)":"hsl(0, 0%, 15%)";return r.a.createElement("div",{className:"header",style:{backgroundColor:e.headerColor}},r.a.createElement("h2",{className:"header__color",style:{color:t}},e.chosenColor),r.a.createElement("div",{className:"header__buttons"},null!==e.resetColors?r.a.createElement("button",{onClick:e.resetColors},"New Colors"):null),r.a.createElement("p",{className:"header__subtext"},"Tries Left: ",e.triesLeft))}),L=(n(58),function(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"modal__body"},r.a.createElement("p",null,"Points: ",e.points),r.a.createElement(s.Consumer,null,function(e){return null!==e?null:r.a.createElement("p",null,r.a.createElement(u.b,{to:"/login"},"Login")," to save your score, and compete with friends!")})),r.a.createElement("div",{className:"modal__overlay",onClick:function(){return e.playAgain()}}))}),M=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},A=function(){var e=M(5,20);return Math.round(Math.random())?e:-e};var U=function(){return Array.from({length:3}).map(function(){return M(25,200)})},B=function(e){var t;switch(e){case b:t=function(){var e=M(1,360),t=M(25,90),n=M(25,85);return"hsl(".concat(e,", ").concat(t,"%, ").concat(n,"%)")}();break;case E:t="rgb(".concat(U(),")");break;case v:t="#"+U().map(function(e){return 1===(e=e.toString(16)).length?e+="0":e}).join("");break;default:throw new Error("Invalid color pattern")}return t},R=function(e){return(e=e.map(function(e){return"".concat(e+A(),",")}))[e.length-1]=e[e.length-1].slice(0,-1),e},G=function(e){return"#"+R(function(e){var t=parseInt(e.slice(1),16);return[t>>16&255,t>>8&255,255&t]}(e)).map(function(e){return e=e.endsWith(",")?e.slice(0,-1):e,Number(e).toString(16).padStart(2,"0")}).join("")},x=function(e,t){var n;switch(t){case b:n=function(e){return"hsl(".concat(e.substring(4).slice(0,-1).split(",").map(function(e){return"%"===e[e.length-1]&&(e=Number(e.slice(0,-1).trim()),e=(e+=A()).toString()+"%"),e}).join(","),")")}(e);break;case E:n=function(e){return"rgb(".concat(R(e.substring(4).slice(0,-1).split(",").map(function(e){return Number(e.trim())})).join(""),")")}(e);break;case v:n=G(e)}return n},D=function(e,t,n,a){for(var r=[],o=[],l=0;l<e;l++)r.push(B(n)),l!==a&&o.push(l);for(var c=0;c<t;c++)r[o.pop(Math.floor(Math.random()*o.length)+1)]=x(r[a],n);return r};function W(e,t){var n=f[e].numberOfColors,a=f[e].similarColors,r=[],o=Math.floor(Math.random()*n);if(0===e)for(var l=0;l<n;l++)r.push(B(t));else r.push.apply(r,Object(y.a)(D(n,a,t,o)));return{colors:r,chosenOne:o}}var H=n(19),J=n(59);n(62),n(64);var Z={apiKey:"AIzaSyDic3lgSNLBrxXcnKijtBhJZl0ldwjv1TA",authDomain:"choosing-colors.firebaseapp.com",databaseURL:"https://choosing-colors.firebaseio.com",projectId:"choosing-colors",storageBucket:"choosing-colors.appspot.com",messagingSenderId:"1095059129734",appId:"1:1095059129734:web:b94c0a918d83a16e"};var T=function(e){var t=Object(a.useState)(g),n=Object(c.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)(p),u=Object(c.a)(i,2),s=u[0],m=u[1],d=Object(a.useState)(C),h=Object(c.a)(d,2),E=h[0],b=h[1],v=Object(a.useState)(W(s,e.colorPattern)),S=Object(c.a)(v,2),w=S[0],j=S[1],P=Object(a.useState)(!1),M=Object(c.a)(P,2),A=M[0],U=M[1];function B(){U(!0),function(e,t){if(null!==J.auth().currentUser){var n="highScore".concat(e);J.firestore().collection("users").where("uid","==",J.auth().currentUser.uid).get().then(function(e){e.docs[0].data()[n]<t&&e.docs[0].ref.update(Object(H.a)({},n,t))})}}(e.colorPattern,o)}function R(){var e=o+O,t=function(e){var t=0;return e>=f[4].minimumPoints?t=4:e>=f[3].minimumPoints?t=3:e>=f[2].minimumPoints?t=2:e>=f[1].minimumPoints&&(t=1),t}(e);s!==t&&b(C),l(e),m(t),G(t)}function G(t){j(W(t,e.colorPattern))}function x(){U(!1),m(p),l(g),b(C),j(W(p,e.colorPattern))}function D(e){if(E>0){var t=Number(e.target.id);"".concat(e.target.className).includes("tile")&&(t===w.chosenOne?R():function(e){if(w.colors[e]!==N){var t=Object(y.a)(w.colors);t[e]=N,j(Object(_.a)({},w,{colors:t}));var n=E-1;b(n),0===n&&B()}}(t))}}return r.a.createElement("div",{className:"Play"},r.a.createElement(I,{headerColor:f[s].headerColor,chosenColor:w.colors[w.chosenOne],resetColors:f[s].canLoadNewColors?function(){return G(s)}:null,triesLeft:E}),r.a.createElement(k,{colors:w.colors,onClick:function(e){return D(e)}}),A?r.a.createElement(L,{points:o,playAgain:x}):null)},X=n(13),z=(n(71),function(e){var t=e.signInUser,n=e.createUser,o=Object(a.useState)(),l=Object(c.a)(o,2),i=l[0],u=l[1],s=Object(a.useState)(!0),m=Object(c.a)(s,2),d=m[0],h=m[1],f=Object(a.useState)("Create an account"),E=Object(c.a)(f,2),b=E[0],v=E[1],g=Object(a.useState)("Sign in"),p=Object(c.a)(g,2),C=p[0],O=p[1];return r.a.createElement("div",{className:"form"},r.a.createElement("h3",null,C),r.a.createElement(X.d,{initialValues:{email:"",password:"",name:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e,a){var o=a.setSubmitting;d?t(e.email,e.password).catch(function(e){u(r.a.createElement("div",{className:"error"},e.message)),o(!1)}):n(e.name,e.email,e.password).catch(function(e){u(r.a.createElement("div",{className:"error"},e.message)),o(!1)})}},function(e){var t=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.c,{noValidate:!0},d?null:r.a.createElement(X.b,{disabled:t,placeholder:"Name",type:"text",name:"name"}),r.a.createElement(X.b,{disabled:t,placeholder:"Email",type:"email",name:"email"}),r.a.createElement(X.a,{className:"error",name:"email",component:"div"}),r.a.createElement(X.b,{disabled:t,placeholder:"Password",type:"password",name:"password"}),d?null:r.a.createElement(X.a,{className:"error",name:"password",component:"div"}),r.a.createElement("button",{className:"primary",type:"submit",disabled:t},"Next"),i))}),r.a.createElement("button",{className:"secondary",onClick:function(){h(!d),d?(v("Sign in"),O("Create an account")):(v("Create an account"),O("Sign in"))}},b))});var K=function(){var e=Object(a.useState)(!!parseInt(localStorage.getItem("IS_USER_LOGGED_IN"))||null),t=Object(c.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(null),d=Object(c.a)(l,2),h=d[0],f=d[1],E=Object(a.useState)(localStorage.getItem("COLOR_MODEL")),b=Object(c.a)(E,2),v=b[0],g=b[1];function p(e){localStorage.setItem("IS_USER_LOGGED_IN",1),f(r.a.createElement(i.a,{to:"/"})),o(e)}function C(e,t){return function(e,t){return J.auth().signInWithEmailAndPassword(e,t)}(e,t).then(function(e){p(e)})}function O(e,t,n){return function(e,t,n){return J.auth().createUserWithEmailAndPassword(t,n)}(0,t,n).then(function(t){p(t);var n=t.user,a=n.uid,r=n.email;!function(e,t,n){J.firestore().collection("users").add({uid:e,name:t,email:n,highScoreRGB:0,highScoreHEX:0,highScoreHSL:0,dateJoined:new Date,colorPalettes:null,profilePic:null,bio:null})}(a,e,r)})}function N(){J.auth().signOut().then(function(){localStorage.setItem("IS_USER_LOGGED_IN",0)})}return Object(a.useEffect)(function(){var e;e=function(e){o(e)},J.auth().onAuthStateChanged(e)}),r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(s.Provider,{value:n},r.a.createElement(m.Provider,{value:v},r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(s.Consumer,null,function(e){return null!==e?r.a.createElement(i.a,{to:"/"}):r.a.createElement(z,{signInUser:C,createUser:O})})}}),r.a.createElement(i.b,{path:"/",exact:!0,render:function(){return r.a.createElement(j,{signIn:C,signOut:N,handleColorModelChange:function(e){return g(t=e),void localStorage.setItem("COLOR_MODEL",t);var t},leaderboardContent:function(e){return function(e){var t=[],n="highScore".concat(e);return J.firestore().collection("users").orderBy(n,"desc").get().then(function(e){e.docs.map(function(e){return t.push({name:e.data().name,email:e.data()[n]})})}),t}(e)}})}}),r.a.createElement(m.Consumer,null,function(e){return r.a.createElement(i.b,{path:"/play",render:function(){return r.a.createElement(T,{colorPattern:e})}})}))),h))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));J.initializeApp(Z),l.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.ec4fd4e8.chunk.js.map